# 如何理解“HTTP中无状态”的“状态”指什么？



## 一、标准HTTP协议是无状态的，无连接的

1.标准的HTT协议并不包括cookies、session、application

2.无连接指每次连接都限制处理一个请求，服务器在处理完客户端的请求，收到客户端的应答后会断开连接

3.协议对于事务处理没有记忆能力

4.对同一个url请求没有上下文关系

5.每次请求都是独立的，执行情况之间没有联系

6.服务器中没有保存客户端的状态，客户端需要携带状态去请求或访问服务器

## 二、模拟访问：假如没有cookie和session，注册用户访问网站会发生什么？

### 前提

- 服务器为用户建立了数据表，记录了用户数据
- HTTP无连接

### 操作

登录

1.用户通过HTTP将用户名和密码发送给服务器，服务器验证用户身份，返回登录成功

点击网页（商品页）

1.相当于输入商品页网址

2.只有用户才可以点击打开

3.虽然登录成功了，因为服务器不保存状态，客户端也不存储输入用户名和密码信息

4.由于服务器无法识别出用户身份，所以访问失败

添加购物车

1.相当于输入发起添加商品请求的网址

2.服务器验证用户身份，访问数据库再进行添加操作

3.返回操作成功，结束访问

### 结论

1.每次访问需要权限的内容都必须提供用户名和密码，服务器才能验证用户身份，十分繁琐和多余

2.每次操作都必须与系统底层的数据库进行交互，即服务器要得到对应信息进行验证和修改

3.非重要的繁琐操作也存入数据库，添加与删除购物车只是与这次会话有关，只是临时数据，与用户主要信息无关

## 三、推论

1.服务器一定存有用户数据，因此服务器中没有保存客户端状态的状态并不是指向用户数据

2.cookie机制解决访问者身份标识问题

3.session机制充当缓冲区解决数据库频繁读取以及冗余数据存储问题

4.因此无状态指的是没有记录会话的状态





